<html><head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="AnyShtream.ELEM.html">
<link rel="Up" href="AnyShtream.html">
<link title="Index of types" rel="Appendix" href="index_types.html">
<link title="Index of exceptions" rel="Appendix" href="index_exceptions.html">
<link title="Index of values" rel="Appendix" href="index_values.html">
<link title="Index of class methods" rel="Appendix" href="index_methods.html">
<link title="Index of class types" rel="Appendix" href="index_class_types.html">
<link title="Index of modules" rel="Appendix" href="index_modules.html">
<link title="Index of module types" rel="Appendix" href="index_module_types.html">
<link title="Abort" rel="Chapter" href="Abort.html">
<link title="Adaptor" rel="Chapter" href="Adaptor.html">
<link title="AnyShtream" rel="Chapter" href="AnyShtream.html">
<link title="Channel" rel="Chapter" href="Channel.html">
<link title="Delimited" rel="Chapter" href="Delimited.html">
<link title="DepDAG" rel="Chapter" href="DepDAG.html">
<link title="Disposal" rel="Chapter" href="Disposal.html">
<link title="Fitting" rel="Chapter" href="Fitting.html">
<link title="FittingSig" rel="Chapter" href="FittingSig.html">
<link title="Flags" rel="Chapter" href="Flags.html">
<link title="IVar" rel="Chapter" href="IVar.html">
<link title="Line" rel="Chapter" href="Line.html">
<link title="LineShtream" rel="Chapter" href="LineShtream.html">
<link title="PriorityQueue" rel="Chapter" href="PriorityQueue.html">
<link title="Proc" rel="Chapter" href="Proc.html">
<link title="Reader" rel="Chapter" href="Reader.html">
<link title="Shtream" rel="Chapter" href="Shtream.html">
<link title="Signal" rel="Chapter" href="Signal.html">
<link title="StringShtream" rel="Chapter" href="StringShtream.html">
<link title="Util" rel="Chapter" href="Util.html">
<link title="UsrBin" rel="Chapter" href="UsrBin.html">
<link title="Version" rel="Chapter" href="Version.html">
<link title="WeakPlus" rel="Chapter" href="WeakPlus.html"><title>Shcaml : AnyShtream.S</title>
</head>
<body>
<div class="navbar"><a class="pre" href="AnyShtream.ELEM.html" title="AnyShtream.ELEM">Previous</a>
&nbsp;<a class="up" href="AnyShtream.html" title="AnyShtream">Up</a>
&nbsp;</div>
<h1>Module type <a href="type_AnyShtream.S.html">AnyShtream.S</a></h1>

<pre><span class="keyword">module type</span> S = <code class="code"><span class="keyword">sig</span></code> <a href="AnyShtream.S.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info modtype top">
The output signature of the functor <a href="AnyShtream.Make.html"><code class="code"><span class="constructor">AnyShtream</span>.<span class="constructor">Make</span></code></a>.
 The shtream and coshtream types in the resulting module are
 compatible with other applications of the functor and with <a href="Shtream.html"><code class="code"><span class="constructor">Shtream</span></code></a>.
<p>

 When <a href="AnyShtream.Make.html"><code class="code"><span class="constructor">AnyShtream</span>.<span class="constructor">Make</span></code></a> is applied to a structure <code class="code"><span class="constructor">Elem</span></code> (having
 signature <a href="AnyShtream.ELEM.html"><code class="code"><span class="constructor">AnyShtream</span>.<span class="constructor">ELEM</span></code></a>), the resulting module knows how to write
 shtreams of type <code class="code"><span class="keywordsign">'</span>a&nbsp;<span class="constructor">Elem</span>.elem&nbsp;<span class="constructor">Shtream</span>.t</code> and read shtreams of type
 <code class="code"><span class="constructor">Elem</span>.initial&nbsp;<span class="constructor">Elem</span>.elem&nbsp;<span class="constructor">Shtream</span>.t</code>.  Functions in the resulting
 module take several optional parameters whose defaults are
 supplied by <code class="code"><span class="constructor">Elem</span></code>:</p><ul>
<li><code class="code">?(reader&nbsp;:&nbsp;in_channel&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;initial&nbsp;elem)</code> defaults to
   <code class="code"><span class="constructor">Elem</span>.reader&nbsp;()</code>.</li>
<li><code class="code">?(parse&nbsp;:&nbsp;string&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;initial&nbsp;elem)</code> defaults to <code class="code"><span class="constructor">Elem</span>.of_string&nbsp;()</code>.</li>
<li><code class="code">?(show&nbsp;:&nbsp;<span class="keywordsign">'</span>a&nbsp;elem&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;string)</code> defaults to <code class="code"><span class="constructor">Elem</span>.string_of&nbsp;()</code>.</li>
</ul>
<br>
</div>
<hr width="100%">

<pre><span class="keyword">include</span> <a href="Shtream.COMMON.html">Shtream.COMMON</a><code class="type">
  with type 'a t    = 'a <a href="Shtream.html">Shtream</a>.t
   and type 'a co_t = 'a <a href="Shtream.html">Shtream</a>.co_t</code></pre>
<div class="info ">
The result of <code class="code"><span class="constructor">AnyShtream</span>.<span class="constructor">Make</span></code> contains all the type-indifferent
 shtream operations from <code class="code"><span class="constructor">Shtream</span></code>.<br>
</div>

<pre><span class="keyword">module</span> <a href="AnyShtream.S.Elem.html">Elem</a>: <code class="type"><a href="AnyShtream.ELEM.html">AnyShtream.ELEM</a></code><code class="type"> </code></pre><div class="info">
Access to the underlying element type and operations.
</div>

<pre><span id="TYPEelem"><span class="keyword">type</span> <code class="type">'a</code> elem</span> = <code class="type">'a Elem.elem</code> </pre>
<div class="info ">
Alias for <a href="AnyShtream.ELEM.html#TYPEelem"><code class="code"><span class="constructor">AnyShtream</span>.<span class="constructor">ELEM</span>.elem</code></a><br>
</div>


<pre><span id="TYPEinitial"><span class="keyword">type</span> <code class="type"></code>initial</span> = <code class="type">Elem.initial</code> </pre>
<div class="info ">
Alias for <a href="AnyShtream.ELEM.html#TYPEinitial"><code class="code"><span class="constructor">AnyShtream</span>.<span class="constructor">ELEM</span>.initial</code></a><br>
</div>


<pre><span id="VALelem_reader"><span class="keyword">val</span> elem_reader</span> : <code class="type"><a href="Reader.html#TYPEt">Reader.t</a> -&gt; Pervasives.in_channel -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a></code></pre><div class="info ">
Construct an <code class="code">initial&nbsp;elem</code> reader from a record reader.
 Functions such as <a href="AnyShtream.S.html#VALof_channel"><code class="code"><span class="constructor">AnyShtream</span>.<span class="constructor">S</span>.of_channel</code></a> and <a href="AnyShtream.S.html#VALof_program"><code class="code"><span class="constructor">AnyShtream</span>.<span class="constructor">S</span>.of_program</code></a> take a function
 of the type returned here.<br>
</div>

<pre><span id="VALoutput"><span class="keyword">val</span> output</span> : <code class="type">?channel:Pervasives.out_channel -&gt;<br>       ?init:('a <a href="AnyShtream.S.html#TYPEelem">elem</a> -&gt; string) -&gt;<br>       ?term:('a <a href="AnyShtream.S.html#TYPEelem">elem</a> -&gt; string) -&gt;<br>       ?show:('a <a href="AnyShtream.S.html#TYPEelem">elem</a> -&gt; string) -&gt; 'a <a href="AnyShtream.S.html#TYPEelem">elem</a> t -&gt; unit</code></pre><div class="info ">
Write the entire contents of a shtream on a channel.
 For each element <code class="code">x</code> of the shtream, it prints <code class="code">init&nbsp;x</code>, then
 <code class="code">show&nbsp;x</code>, and then <code class="code">term&nbsp;x</code> on the channel, and then flushes the
 channel.
<br>
</div>
<div class="param_info"><code class="code">channel</code> : default = <code class="code">stdout</code></div>
<div class="param_info"><code class="code">init</code> : default = <code class="code"><span class="keyword">fun</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="string">""</span></code></div>
<div class="param_info"><code class="code">term</code> : default = <code class="code"><span class="keyword">fun</span>&nbsp;_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="string">"\n"</span></code></div>
<div class="param_info"><code class="code">show</code> : default = <code class="code"><span class="constructor">Elem</span>.string_of&nbsp;()</code></div>

<pre><span id="VALchannel_of"><span class="keyword">val</span> channel_of</span> : <code class="type">?procref:<a href="Channel.html#TYPEprocref">Channel.procref</a> -&gt;<br>       ?before:(unit -&gt; unit) -&gt;<br>       ?after:(unit -&gt; unit) -&gt;<br>       ?init:('a <a href="AnyShtream.S.html#TYPEelem">elem</a> -&gt; string) -&gt;<br>       ?term:('a <a href="AnyShtream.S.html#TYPEelem">elem</a> -&gt; string) -&gt;<br>       ?show:('a <a href="AnyShtream.S.html#TYPEelem">elem</a> -&gt; string) -&gt;<br>       'a <a href="AnyShtream.S.html#TYPEelem">elem</a> t -&gt; Pervasives.in_channel</code></pre><div class="info ">
Construct an <code class="code">in_channel</code> from the data in a
 shtream.  If forking a child is necessary (see
 <a href="Shtream.html#VALchannel_of"><code class="code"><span class="constructor">Shtream</span>.channel_of</code></a>), then the optional
 parameter <code class="code">?before</code> (resp. <code class="code">?after</code>) is called in the child
 before (resp. after) printing the shtream; anything printed on
 <code class="code">stdout</code> by <code class="code">?before</code> (<code class="code">?after</code>) appears in the resultant
 <code class="code">in_channel</code> before (after) the shtream data.
<p>

 The remaining arguments are as for <a href="AnyShtream.S.html#VALoutput"><code class="code"><span class="constructor">AnyShtream</span>.<span class="constructor">S</span>.output</code></a>.<br>
</p></div>

<pre><span id="VALstring_list_of"><span class="keyword">val</span> string_list_of</span> : <code class="type">?show:('a <a href="AnyShtream.S.html#TYPEelem">elem</a> -&gt; string) -&gt;<br>       'a <a href="AnyShtream.S.html#TYPEelem">elem</a> t -&gt; string list</code></pre><div class="info ">
Convert a shtream to a list of strings, using <code class="code">?show</code>.<br>
</div>

<pre><span id="VALstring_stream_of"><span class="keyword">val</span> string_stream_of</span> : <code class="type">?show:('a <a href="AnyShtream.S.html#TYPEelem">elem</a> -&gt; string) -&gt;<br>       'a <a href="AnyShtream.S.html#TYPEelem">elem</a> t -&gt; string Stream.t</code></pre><div class="info ">
Convert a shtream to a <i>standard library</i> <code class="code"><span class="constructor">Stream</span>.t</code> of
 strings, using <code class="code">?show</code>.<br>
</div>

<pre><span id="VALof_channel"><span class="keyword">val</span> of_channel</span> : <code class="type">?reader:(Pervasives.in_channel -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a>) -&gt;<br>       Pervasives.in_channel -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a> t</code></pre><div class="info ">
Read a shtream from a channel, using <code class="code">?reader</code>.<br>
</div>

<pre><span id="VALof_file"><span class="keyword">val</span> of_file</span> : <code class="type">?reader:(Pervasives.in_channel -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a>) -&gt;<br>       string -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a> t</code></pre><div class="info ">
Read a shtream from a file, using <code class="code">?reader</code>.<br>
</div>

<pre><span id="VALof_command"><span class="keyword">val</span> of_command</span> : <code class="type">?procref:<a href="Channel.html#TYPEprocref">Channel.procref</a> -&gt;<br>       ?dups:<a href="Channel.html#TYPEdup_spec">Channel.dup_spec</a> -&gt;<br>       ?reader:(Pervasives.in_channel -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a>) -&gt;<br>       string -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a> t</code></pre><div class="info ">
Read a shtream from the output of a command, using <code class="code">?reader</code>.
 If <code class="code">?procref</code> is given, stash the <a href="Proc.html#TYPEt"><code class="code"><span class="constructor">Proc</span>.t</code></a>; if <code class="code">?dups</code>
 is given, perform the dups in the child process.<br>
</div>

<pre><span id="VALof_program"><span class="keyword">val</span> of_program</span> : <code class="type">?procref:<a href="Channel.html#TYPEprocref">Channel.procref</a> -&gt;<br>       ?dups:<a href="Channel.html#TYPEdup_spec">Channel.dup_spec</a> -&gt;<br>       ?reader:(Pervasives.in_channel -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a>) -&gt;<br>       ?path:bool -&gt;<br>       string -&gt;<br>       ?argv0:string -&gt; string list -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a> t</code></pre><div class="info ">
Read a shtream from the output of a process, using <code class="code">?reader</code>.
 If <code class="code">?procref</code> is given, stash the <a href="Proc.html#TYPEt"><code class="code"><span class="constructor">Proc</span>.t</code></a>; if <code class="code">?dups</code>
 is given, perform the dups in the child process.<br>
</div>

<pre><span id="VALof_thunk"><span class="keyword">val</span> of_thunk</span> : <code class="type">?procref:<a href="Channel.html#TYPEprocref">Channel.procref</a> -&gt;<br>       ?dups:<a href="Channel.html#TYPEdup_spec">Channel.dup_spec</a> -&gt;<br>       ?reader:(Pervasives.in_channel -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a>) -&gt;<br>       (unit -&gt; unit) -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a> t</code></pre><div class="info ">
Read a shtream from the output of a thunk, using <code class="code">?reader</code>.
 If <code class="code">?procref</code> is given, stash the <a href="Proc.html#TYPEt"><code class="code"><span class="constructor">Proc</span>.t</code></a>; if <code class="code">?dups</code>
 is given, perform the dups in the child process.<br>
</div>

<pre><span id="VALof_string_list"><span class="keyword">val</span> of_string_list</span> : <code class="type">?parse:(string -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a>) -&gt;<br>       string list -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a> t</code></pre><div class="info ">
Construct a shtream from a list of strings, using <code class="code">?parse</code>.<br>
</div>

<pre><span id="VALof_string_stream"><span class="keyword">val</span> of_string_stream</span> : <code class="type">?parse:(string -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a>) -&gt;<br>       string Stream.t -&gt; <a href="AnyShtream.S.html#TYPEinitial">initial</a> <a href="AnyShtream.S.html#TYPEelem">elem</a> t</code></pre><div class="info ">
Construct a shtream from a <i>standard
 library</i> <code class="code"><span class="constructor">Stream</span>.t</code> of strings, using <code class="code">?parse</code>.<br>
</div>
</body></html>